<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:shiro="http://shiro.apache.org/tags"
      lang="es">

<h:head>
    <title>Consulta de elementos</title>
    <style type="text/css">
        .ui-paginator a {
            margin-right: 5px;
        }
    </style>
    <link rel="stylesheet" href="css/inicio.css"/>
    <link rel="stylesheet" href="css/normalize.css"/>
    <link href="css/estilos.css" rel="stylesheet" />
</h:head>

<h:body>
    <br/>
    <h:form id="registroElemento">
        <p:button class="botonAtras" value="AtrÃ¡s" outcome="elemento.xhtml">
        </p:button>
        <center>
            <div class="title">
                <h1>Consulta de Elementos</h1>
            </div>
        </center>
        <div class="hola">
        <div class="title">
            <h2>Elementos de un Equipo</h2>
        </div>
            <div class="row">
                <p:inputText class="texto" binding="#{equipo}"></p:inputText>
                <p:commandButton class="botonAccion" update="tabla" actionListener="#{Elemento.consultarElementosEquipo(equipo.value)}" value="Ingresar"></p:commandButton>
            </div>
        </div>

        <br/>
        <center>
            <p:dataTable id="tabla" value="#{Elemento.elementos2}" var="elm" rows="100" style="width:1300px;">
                <f:facet name="header">ELEMENTOS DEL EQUIPO </f:facet>
                <p:headerRow>
                    <p:column colspan="6">
                        <h:outputText value="#{elm.tipo}" />
                    </p:column>
                </p:headerRow>
                <p:column headerText="Numero Serial">
                    <center><p:outputLabel value="#{elm.numeroSerial}"/></center>
                </p:column>
                <p:column headerText="Tipo">
                    <center><p:outputLabel value="#{elm.tipo}"/></center>
                </p:column>
                <p:column headerText="Marca">
                    <center><p:outputLabel value="#{elm.marca}"/></center>
                </p:column>
                <p:column headerText="Referencia">
                    <center><p:outputLabel value="#{elm.referencia}"/></center>
                </p:column>
                <p:column headerText="Disponible">
                    <center><p:outputLabel value="#{elm.disponible}"/></center>
                </p:column>
                <p:column headerText="Equipo Asociado">
                    <center><p:outputLabel value="#{elm.equipoAsociado}"/></center>
                </p:column>
            </p:dataTable>
        </center>

        <br/><br/>
        <div class="hola">
            <div class="title">
                <h2>Buscar Elemento</h2>
            </div>
            <div class="row">
                <p:inputText class="texto" binding="#{numero}"></p:inputText>
                <p:commandButton class="botonAccion" update="tabla1" actionListener="#{Elemento.consultarElemento(numero.value)}" value="Ingresar"></p:commandButton>
            </div>
        </div>

        <br/>
        <center>
            <p:dataTable id="tabla1" value="#{Elemento.elemento}" var="elm" rows="100" style="width:1300px;">
                <f:facet name="header">ELEMENTO</f:facet>
                <p:headerRow>
                    <p:column colspan="6">
                        <h:outputText value="#{elm.tipo}" />
                    </p:column>
                </p:headerRow>
                <p:column headerText="Numero Serial">
                    <center><p:outputLabel value="#{elm.numeroSerial}"/></center>
                </p:column>
                <p:column headerText="Tipo">
                    <center><p:outputLabel value="#{elm.tipo}"/></center>
                </p:column>
                <p:column headerText="Marca">
                    <center><p:outputLabel value="#{elm.marca}"/></center>
                </p:column>
                <p:column headerText="Referencia">
                    <center><p:outputLabel value="#{elm.referencia}"/></center>
                </p:column>
                <p:column headerText="Disponible">
                    <center><p:outputLabel value="#{elm.disponible}"/></center>
                </p:column>
                <p:column headerText="Equipo Asociado">
                    <center><p:outputLabel value="#{elm.equipoAsociado}"/></center>
                </p:column>
            </p:dataTable>
        </center>

        <br/><br/>
        <div class="hola">
        <div class="title">
            <h2>Todos los Elementos</h2>
        </div>
        </div>
        <center>
            <p:dataTable id="tbl" var="elm" value="#{Elemento.elementos}"
                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                         paginator="true" style="margin-bottom:20px" sortBy="#{elm.tipo}" expandableRowGroups="true">
                <p:headerRow>
                    <p:column colspan="6">
                        <h:outputText value="#{elm.tipo}" />
                    </p:column>
                </p:headerRow>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Numero Serial" />
                    </f:facet>
                    <h:outputText value="#{elm.numeroSerial}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Tipo"/>
                    </f:facet>
                    <h:outputText value="#{elm.tipo}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Marca" />
                    </f:facet>
                    <h:outputText value="#{elm.marca}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Referencia" />
                    </f:facet>
                    <h:outputText value="#{elm.referencia}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Disponible" />
                    </f:facet>
                    <h:outputText value="#{elm.disponible}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Equipo Asociado" />
                    </f:facet>
                    <h:outputText value="#{elm.equipoAsociado}" />
                </p:column>
            </p:dataTable>
            <h:panelGrid columns="4" cellpadding="20">
                <div class="cont_ofIma">
                    <img src="assets/img/excel.png"/>
                    <p:commandButton value="Exportar Excel" class="botonAccion" ajax="false">
                        <p:dataExporter type="xls" target="tbl" fileName="Reporte_de_Elementos"/>
                    </p:commandButton>
                </div>
            </h:panelGrid>
        </center>
    </h:form>
</h:body>
</html>